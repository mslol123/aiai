<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jxky.bgxs.dao.ChapterDAO">
    <resultMap id="chapterMap" type="com.jxky.bgxs.entity.Chapter">
        <id property="chapterId" column="chapter_id"></id>
        <result property="chapterName" column="chapter_name"></result>
        <result property="chapterPath" column="chapter_path"></result>
        <result property="chapterBookId" column="chapter_book_id"></result>
        <result property="chapterCreatetime" column="chapter_createtime"></result>
        <result property="chapterMessage" column="chapter_message"></result>
        <result property="chapterWords" column="chapter_words"></result>
        <result property="chapterGivenum" column="chapter_givenum"></result>
        <result property="chapterReleaseModel" column="chapter_release_model"></result>
        <result property="chapterReleaseMode" column="chapter_release_mode"></result>
        <result property="chapterMoney" column="chapter_money"></result>
        <result property="chapterTalk" column="chapter_talk"></result>
        <result property="chapterAuthorId" column="chapter_author_id"></result>
    </resultMap>

    <select id="findAllChapter" resultMap="chapterMap">
        SELECT
        chapter.chapter_id,
        chapter.chapter_path,
        chapter.chapter_author_id,
        chapter.chapter_book_id,
        chapter.chapter_name,
        chapter.chapter_createtime,
        chapter.chapter_message,
        chapter.chapter_words,
        chapter.chapter_givenum,
        chapter.chapter_release_model,
        chapter.chapter_release_mode,
        chapter.chapter_money,
        chapter.chapter_talk
        FROM `chapter`
    </select>

    <insert id="insert">
        INSERT INTO chapter(chapter_name,chapter_path,chapter_release_model,chapter_release_mode,chapter_talk) VALUES (#{chapterName},#{chapterPath},#{chapterReleaseModel},#{chapterReleaseMode},#{chapterTalk})
    </insert>

    <select id="findById" resultMap="chapterMap">
        SELECT
        chapter.chapter_id,
        chapter.chapter_path,
        chapter.chapter_author_id,
        chapter.chapter_book_id,
        chapter.chapter_name,
        chapter.chapter_createtime,
        chapter.chapter_message,
        chapter.chapter_words,
        chapter.chapter_givenum,
        chapter.chapter_release_model,
        chapter.chapter_release_mode,
        chapter.chapter_money,
        chapter.chapter_talk
        FROM
        chapter
        WHERE
        chapter.chapter_id = #{chapterId}
    </select>

    <select id="findChapterByBookId" resultMap="chapterMap">
        SELECT
        chapter.chapter_id,
        chapter.chapter_path,
        chapter.chapter_author_id,
        chapter.chapter_book_id,
        chapter.chapter_name,
        chapter.chapter_createtime,
        chapter.chapter_message,
        chapter.chapter_words,
        chapter.chapter_givenum,
        chapter.chapter_release_model,
        chapter.chapter_release_mode,
        chapter.chapter_money,
        chapter.chapter_talk
        FROM
        chapter
        WHERE
        chapter_book_id=#{chapterBookId}
    </select>

    <update id="update">
        UPDATE
        <set>
            <!--<if test="id != null">-->
            <!--chapter_id = #{id},-->
            <!--</if>-->
            <if test="chapterName != null">
                chapter_name = #{chapterName},
            </if>
            <if test="chapterPath != null">
                chapter_path = #{chapterPath},
            </if>
            <if test="chapterAuthorId != null">
                chapter_author_id = #{chapterAuthorId},
            </if>
            <if test="chapterBookId != null">
                chapter_book_id = #{chapterBookId},
            </if>
            <if test="chapterCreatetime != null">
                chapter_createtime = #{chapterCreatetime},
            </if>
            <if test="chapterMessage != null">
                chapter_message = #{chapterMessage},
            </if>
            <if test="chapterWords != null">
                chapter_words = #{chapterWords},
            </if>
            <if test="chapterGivenum != null">
                chapter_givenum = #{chapterGivenum},
            </if>
            <if test="chapterReleaseModel != null">
                chapter_release_model = #{chapterReleaseModel},
            </if>
            <if test="chapterReleaseMode != null">
                chapter_release_mode = #{chapterReleaseMode},
            </if>
            <if test="chapterMoney != null">
                chapter_money = #{chapterMoney},
            </if>
            <if test="chapterTalk != null">
                chapter_talk = #{chapterTalk},
            </if>
        </set>
    </update>

    <delete id="delete">
        DELETE
        chapter.chapter_id,
        chapter.chapter_path,
        chapter.chapter_author_id,
        chapter.chapter_book_id,
        chapter.chapter_name,
        chapter.chapter_createtime,
        chapter.chapter_message,
        chapter.chapter_words,
        chapter.chapter_givenum,
        chapter.chapter_release_model,
        chapter.chapter_release_mode,
        chapter.chapter_money,
        chapter.chapter_talk
        FROM chapter WHERE chapter_id=#{chapterId}
    </delete>

</mapper>




